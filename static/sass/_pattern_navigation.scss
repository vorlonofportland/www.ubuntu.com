@mixin ubuntu-p-navigation {

  html {
    overflow-x: hidden !important; // prevent horizontal overflow full width breakout
  }

  .p-navigation {
    .hover-menu {
      display: none;
    }

    .p-search-box {
      &__input {
        @extend %search-box-base;
        color: $color-x-light;
        padding-right: 5rem;

        &::placeholder {
          color: $color-mid-light;
        }
      }

      &__button,
      &__reset {
        @extend %search-box-base;
      }
    }

    .p-navigation__link > a {
      background-color: $color-x-light;
      color: $color-dark;

      &.is-active {
        color: $color-brand;
      }
    }

    @media (min-width: $breakpoint-navigation-threshold) {
      font-weight: 400;

      &::after {
        display: none;
      }

      &__links {
        border-right: 1px solid $color-brand-light;
        flex-wrap: nowrap;
      }

      .p-navigation__link {
        font-size: .875rem;
        position: relative;

        &:hover {
          .hover-menu {
            display: block;
          }
        }

        > a {
          background-color: $color-brand;
          border-color: $color-brand-light;
          color: $color-x-light;
          padding: .75rem;

          &.is-active {
            background-color: $color-brand-dark;
            color: $color-x-light;

            &:hover {
              background-color: $color-brand-dark;
            }
          }

          &:hover {
            background-color: $color-brand-light;
          }

          &::before {
            display: none; // Remove border-bottom psuedo-element
          }
        }
      }

      .p-search-box {
        max-width: 12rem;
      }

      .hover-menu {
        background: $color-light;
        border: 1px solid $color-mid-light;
        border-radius: 10px;
        box-shadow: 0 2px 2px -1px $color-mid-light;
        margin: 0;
        padding: $sp-x-small 0 $sp-medium;
        position: absolute;
        top: 51px;
        width: 200px;
        z-index: 1;

        &::after {
          background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QYODgYVPPJJpQAAAT9JREFUKM+dkD9IAnEUx7+/IkVxFaxoKYxIWhqKwJw0JAJ315Yac8+1tUFo6HCp34XRdRp11z+J4BzckqShPzdEQ5G/EhPO6V5Tcg3G0QcePHjvffjygB4oXAIApFMxyPlcWM7nwulU7NfMNQqXGABsZNcCCpcKtapBtapBCpcK2fXlAAAcy3vMlUxTdgEAO9ubybPiPjWFoE6nQ5ZlUfNDULl0RAdSPuncddL30+gnCgOAlngLaocyn4nG9fmFJXj9fhARAMDr82MuEcfk7LSuFQu8DTvovO1SuTxlAKCqPFO5Ov/6FIIsy/qzROOdrst6S1V5xunomo0LrT4yOh4JDg6BMXfvIdvGs/mExutLPZpYnAIAdmNUVuwBbI1NRODxePEf2u0WHu9u4ev3rTLTfKBQaNh1qp5piWCa9/gGBheo3r6AmYcAAAAASUVORK5CYII=') $sp-large bottom no-repeat;
          content: '';
          height: $sp-small;
          position: absolute;
          top: -$sp-small;
          width: 100%;
        }
    
        &__item {
          font-size: .875rem;
          padding: $sp-small $sp-small 0 $sp-small;
    
          > a {
            color: $color-dark;

            &:hover {
              text-decoration: underline;
            }
          }
        }
      }
    }
  }

  .p-secondary-navigation {
    background-color: $color-light;
    border-bottom: 1px solid $color-mid-light;
    font-size: .875rem;
    padding: $sp-small 0;
    
    &__section {
      margin: 0;
      padding: 0;
    }
    
    &__item {
      display: inline-flex;
      margin: .25rem 0;
      width: 49%;
      
      + .p-secondary-navigation__section {
        border-top: 1px solid $color-mid-light;
        padding-top: .25rem;
        position: relative;
      }
    }

    .p-link--active {
      color: $color-brand;
    }

    @media only screen and (min-width: $breakpoint-medium) {
      &__section {
        display: inline;
        flex-wrap: wrap;
      }
  
      &__item {
        display: inline;
        margin: 0 1.25rem 0 0;
  
        + .p-secondary-navigation__section {
          border: 0;
          padding-top: 0;
  
          &::before {
            color: $color-mid-dark;
            content: '\203A';
            font-size: 1rem;
            font-weight: 400;
            left: -.8rem;
            position: absolute;
            top: -.25rem;
          }
        }
      }
    }
  }

  %search-box-base {
    background: $color-brand-dark;
    border-color: $color-brand-dark;

    &:hover {
      border-color: $color-brand-dark;
    }
  }
}